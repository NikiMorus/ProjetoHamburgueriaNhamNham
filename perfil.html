<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Perfil</title>
    <link rel="stylesheet" href="index.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" 
    integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer"></script>
    <script src="index.js"></script>
</head>
<body>
    <div class="conteudo-perfil">
        <div class="card-perfil">
            <h1>Veja, se não é o nosso melhor cliente?</h1>
            <div class="texto-perfil">
                <h2 class="nome"></h2> <h2> </h2> <h2 class="sobrenome"></h2> <h2>, Essa é a sua página de usuário</h2>
                <h3>Aqui você poderá editar ou excluir o seu perfil.</h3>        
                <button onclick="Editar()" class="btn-edit">
                    <span class="icon-edit"><i class="fas fa-edit"></i></span> Editar Perfil
                </button>
                <button onclick="Excluir()" class="btn-excluir">Excluir Perfil</button>
                <a class="voltar" href="home.html">Voltar para a página</a>
            </div>
        </div>
    </div>
    <script>
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        function CarregarDados() {
            var nome = getParameterByName('nome');
            var sobrenome = getParameterByName('sobrenome');
        
            if (nome && sobrenome) {
                var nomeElement = document.querySelector('.nome');
                var sobrenomeElement = document.querySelector('.sobrenome');
        
                nomeElement.textContent = nome;
                sobrenomeElement.textContent = sobrenome;
            }
        }

        function Editar() {
            var nome = document.querySelector('.nome').textContent;
            var sobrenome = document.querySelector('.sobrenome').textContent;

            var novoNome = prompt('Digite o novo nome:', nome);
            var novoSobrenome = prompt('Digite o novo sobrenome:', sobrenome);

            if (novoNome && novoSobrenome) {
                document.querySelector('.nome').textContent = novoNome;
                document.querySelector('.sobrenome').textContent = novoSobrenome;
            }
        }

        function Excluir() {
            var confirmacao = confirm('Tem certeza que deseja excluir o perfil?');

            if (confirmacao) {
                window.location.href = "index.html";
            }
        }

        CarregarDados();
    </script>
</body>
</html>